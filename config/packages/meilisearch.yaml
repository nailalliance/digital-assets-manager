# config/packages/meilisearch.yaml
meilisearch:
    url: '%env(MEILISEARCH_URL)%'
    api_key: '%env(MEILISEARCH_API_KEY)%'
    prefix: '%env(MEILISEARCH_PREFIX)%'

    indices:
        -   name: 'assets'
            class: 'App\Entity\Assets\Assets'

            # FIX: The correct key is "serializer_groups"
            serializer_groups:
                - 'searchable'


            settings:
                typoTolerance:
                    enabled: false
                searchableAttributes:
                    - 'name'
                    - 'itemCodesForSearch'
                    - 'tagsForSearch'
                    - 'brandForSearch.name'
                    - 'categoriesForSearch.name'
                    - 'collectionsForSearch.name'
                    - 'description'
                rankingRules:
                    - 'exactness'
                    - 'words'
                    - 'proximity'
                    - 'attribute'
                    - 'sort'
                    - 'typo'
                filterableAttributes:
                    - 'parent_brand_ids'
                    - 'brand'
                    - 'categories'
                    - 'collections'
                    - 'status'
                    - 'embargodate'
                    - 'brandForSearch.status'
                    - 'categoriesForSearch.status'
                    - 'collectionsForSearch.status'
                    - 'brandForSearch.id'
                    - 'categoriesForSearch.id'
                    - 'collectionsForSearch.id'
                    - 'mimeType'
